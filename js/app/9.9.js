webpackJsonp([9],{62:function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function n(){var e=600;return new Promise(function(t,o){function r(){clearTimeout(s),i.onerror=i.onreadystatechange=i.onload=null}function n(){r(),(!i.onreadystatechange||i.readyState&&"complete"===i.readyState)&&t(window.ymaps)}if(window.hasOwnProperty("ymaps"))return setTimeout(function(){return t(window.ymaps)},e),!0;var a=document.getElementsByTagName("head")[0],i=document.createElement("script"),s=void 0;i.onerror=function(){r(),a.removeChild(i),i=null,o(new Error("network"))},i.onreadystatechange?i.onreadystatechange=n:i.onload=n,s=setTimeout(i.onerror,31e3),i.setAttribute("src","https://api-maps.yandex.ru/2.0/?load=package.standard,package.geoObjects&lang=ru-RU"),i.setAttribute("type","text/javascript"),i.setAttribute("charset","utf-8"),i.setAttribute("async","async"),setTimeout(function(){return a.appendChild(i)},e)})}var a=o(2),i=o(122),s=r(i);e.exports=function(e){var t=new s["default"]({el:e});return n().then(function(e){return t.renderMap(e)})["catch"](function(){return(0,a.myAlert)("Ошибка интернет соединения!")}),t}},122:function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),c=o(2),p=o(123),u=o(124),l=r(u),m=navigator.geolocation,d=void 0,y=function(e){function t(){return n(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),s(t,[{key:"initialize",value:function(){this.$el.find(".toolbar-location").addClass("is-active"),this.map=this.ymaps=this.placemark=null,this.geoParams={timeout:3e4,enableHighAccuracy:!0,maximumAge:0}}},{key:"onSuccess",value:function(e){if(!this.map||!this.ymaps)return this;var t=[e.coords.latitude,e.coords.longitude];this.placemark=new this.ymaps.Placemark(t,{},{preset:"twirl#redDotIcon"}),this.map.geoObjects.add(this.placemark),this.map.setCenter(t),d&&m.clearWatch(d),d=m.watchPosition(this.watch.bind(this),this.onError,this.geoParams)}},{key:"watch",value:function(e){if(!this.placemark)return this;var t=[e.coords.latitude,e.coords.longitude];this.placemark.geometry.setCoordinates(t)}},{key:"onError",value:function(){(0,c.myAlert)("Ошибка геопозиционирования, попробуйте перезагрузить устройство!"),d&&m.clearWatch(d)}},{key:"renderMap",value:function(e){var t=this,o=this.$el.find(".page-content"),r={mapID:o[0],tileUrlTemplate:"img/tiles/%z/tile-%x-%y.png",controls:{typeControl:!0,miniMap:!1,toolBar:!1,scaleLine:!1},scrollZoomEnabled:!1,mapCenter:new p.YMaps.GeoPoint(72.6475069356181,61.1062448990049),backgroundMapType:p.YMaps.MapType.NONE,mapZoom:17,isTransparent:!0,smoothZooming:!1,layerKey:"utro2016#layer",mapType:{name:"Утро 2016",textColor:"#000000"},copyright:"Утро 2016",restrictMapArea:[[61.1091368164979,72.6391920876719],[61.103352716175,72.6558217835642]]};e.ready(function(){t.map=new p.TilerConverter(r).getMap(),t.ymaps=e;var o=new e.GeoObjectCollection({},{preset:"twirl#blueStretchyIcon"});l["default"].forEach(function(t){var r=new e.GeoObject({geometry:{type:"Point",coordinates:t.coords},properties:{iconContent:t.name,balloonContent:t.text}},{draggable:!0});r.events.add("dragend",function(e){console.log(e.originalEvent.target.geometry.getCoordinates())}),o.add(r)}),t.map.geoObjects.add(o),m.getCurrentPosition(t.onSuccess.bind(t),t.onError,t.geoParams)})}}]),t}(Backbone.View);t["default"]=y},123:function(e,t){"use strict";function o(e){this._options=e,this._layer=this._createLayer(),ymaps.layer.storage.add(e.layerKey,this._layer),this._mapType=this._createMapType(),ymaps.mapType.storage.add(e.layerKey,this._mapType),this._map=this._createMap(),this._addControls()._enableBehaviors()}Object.defineProperty(t,"__esModule",{value:!0}),t.TilerConverter=o;t.YMaps={MapType:{MAP:"yandex#map",SATELLITE:"yandex#satellite",HYBRID:"yandex#hybrid",NONE:""},GeoPoint:function(e,t){return[t,e]}};o.prototype={constructor:o,getMap:function(){return this._map},getLayer:function(){return this._layer},getMapType:function(){return this._mapType},_createMap:function(){var e=this._options;return new ymaps.Map(e.mapID||"YMapsID",{center:e.mapCenter,zoom:e.mapZoom,type:e.layerKey,behaviors:["default"]},{adjustZoomOnTypeChange:!0,restrictMapArea:e.restrictMapArea||[]})},_createLayer:function(){var e=this._options;return function(){var t=new ymaps.Layer(e.tileUrlTemplate,{tileTransparent:e.isTransparent});return e.copyright&&(t.getCopyrights=function(){var t=new ymaps.util.Promise;return t.resolve(e.copyright),t}),e.layerMaxZoom>=0&&e.layerMinZoom>=0&&(t.getZoomRange=function(){var t=new ymaps.util.Promise;return t.resolve([e.layerMinZoom,e.layerMaxZoom]),t}),t}},_createMapType:function(){var e=this._options,t=e.backgroundMapType?ymaps.mapType.storage.get(e.backgroundMapType).getLayers():[];return new ymaps.MapType(e.mapType.name,t.concat([e.layerKey]))},_addControls:function(){var e=this._map,t=this._options,o=[t.layerKey,"yandex#satellite"];return t.controls.typeControl&&e.controls.add(new ymaps.control.TypeSelector(o)),this},_enableBehaviors:function(){return this._map.behaviors.disable("multiTouch"),this}}},124:function(e,t){e.exports=[{coords:[61.10534144365986,72.64494274379766],name:"1",text:"КПП"},{coords:[61.10596970953758,72.64874075176105],name:"2",text:"Федеральные образовательные площадки"},{coords:[61.105222018075615,72.6478824448755],name:"3",text:"Тематические образовательные площадки"},{coords:[61.10637989203614,72.64682029010363],name:"4",text:"Сцена"},{coords:[61.104754700463566,72.64988873721484],name:"5",text:"Музей "},{coords:[61.105481632623885,72.65081141711492],name:"6",text:"Аллея «Славим человека труда»"},{coords:[61.106338351982906,72.64838670016339],name:"7",text:"Выставка"},{coords:[61.10514932098675,72.6489338708011],name:"8",text:"Арт-объекты"},{coords:[61.10473392668092,72.64948104143598],name:"9",text:"Лаундж зона"},{coords:[61.10445353289937,72.64846180200888],name:"10",text:"Торговые точки"},{coords:[61.1088460690121,72.65066121340006],name:"11",text:"Мини-футбольное поле"},{coords:[61.108955095431604,72.65117619753043],name:"12",text:"Волейбольное поле"},{coords:[61.10565297171435,72.64547918557949],name:"13",text:"Пейнтбольное поле"},{coords:[61.10516489226883,72.64598344087325],name:"14",text:"Площадка ГТО"},{coords:[61.10494161928145,72.64498565911887],name:"15",text:"Ситуационный штаб"},{coords:[61.104739113878594,72.64718507050928],name:"16",text:"Штабы делегаций"},{coords:[61.106052770824796,72.64513586281588],name:"19",text:"Гигиеническая зона"},{coords:[61.10614624141131,72.65367601634128],name:"17",text:"Городок организаторов"},{coords:[61.10755848087098,72.65224908112758],name:"18",text:"Палаточный лагерь"},{coords:[61.10547642934767,72.65435193299372],name:"19",text:"Гигиеническая зона"},{coords:[61.10500911559754,72.64673445938733],name:"20",text:"Информационный центр"},{coords:[61.10539854011149,72.64580105064555],name:"21",text:"Камера хранения"},{coords:[61.10543488567833,72.65164826629635],name:"22",text:"Брестская крепость"},{coords:[61.10625526102538,72.64613364455906],name:"23",text:"Выставочные шатры нефтедобывающих компаний"},{coords:[61.106686208340186,72.64793608901415],name:"24",text:"Переговорная"},{coords:[61.10783883693394,72.65094016310954],name:"25",text:"Грантовый конкурс"},{coords:[61.104687193563215,72.64921282053243],name:"26",text:"Мастер-классы"}]}});