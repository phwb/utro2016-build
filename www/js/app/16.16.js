webpackJsonp([16],{43:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t){var e=t.get("id");return"#"+e}Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleLink=e.Simple=e.Item=void 0;var s=function b(t,e,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,e);if(void 0===i){var r=Object.getPrototypeOf(t);return null===r?void 0:b(r,e,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),c=n(44),f=i(c),h=n(45),p=i(h),d=function(t){function e(){return r(this,e),o(this,Object.getPrototypeOf(e).apply(this,arguments))}return l(e,t),a(e,[{key:"initialize",value:function(){this.listenTo(this.model,"change",this.change)}},{key:"change",value:function(){this.render()}},{key:"render",value:function(){return this.$el.html(this.template(this.model.toJSON())),this.afterRender(),this}},{key:"afterRender",value:function(){return this}},{key:"tagName",get:function(){return"li"}},{key:"template",get:function(){return _.template(f["default"])}}]),e}(Backbone.View),y=function(t){function e(){return r(this,e),o(this,Object.getPrototypeOf(e).apply(this,arguments))}return l(e,t),a(e,[{key:"initialize",value:function(){this.listenTo(this.collection,"add",this.addItem)}},{key:"addItem",value:function(t){var e=new this.Item({model:t});this.$el.append(e.render().$el)}},{key:"render",value:function(){this.$el.empty();var t="forEach";return this.collection instanceof Backbone.Collection&&(t="each"),this.collection[t](this.addItem,this),this}},{key:"tagName",get:function(){return"ul"}},{key:"Item",get:function(){return d}}]),e}(Backbone.View),v=function(t){function e(){return r(this,e),o(this,Object.getPrototypeOf(e).apply(this,arguments))}return l(e,t),a(e,[{key:"initialize",value:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=t.href,i=void 0===n?u:n;s(Object.getPrototypeOf(e.prototype),"initialize",this).call(this),this.href=i}},{key:"Item",get:function(){var t=this;return function(e){function n(){return r(this,n),o(this,Object.getPrototypeOf(n).apply(this,arguments))}return l(n,e),a(n,[{key:"render",value:function(){var e=this.model.toJSON();return e.href=t.href(this.model),this.$el.html(this.template(e)),this}},{key:"template",get:function(){return _.template(p["default"])}}]),n}(d)}}]),e}(y);e.Item=d,e.Simple=y,e.SimpleLink=v},44:function(t,e){t.exports='<div class="item-content" data-id="<%= id %>"><div class="item-inner"><div class="item-title"><%= name %></div></div></div>'},45:function(t,e){t.exports='<a class="item-content item-link" href="<%= href %>"><div class="item-inner"><div class="item-title"><%= name %></div></div></a>'},69:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.PullDown=void 0;var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(2),s=function(t){function e(){return i(this,e),r(this,Object.getPrototypeOf(e).apply(this,arguments))}return o(e,t),l(e,[{key:"refreshStart",value:function(){var t=this,e=this.collection;return e.refresh?((0,u.logger)("refresh.start",e.url),void e.refresh().then(function(){return t.$pull.trigger("refreshend")})["catch"](function(){return t.$pull.trigger("refreshend")})):(this.$pull.trigger("refreshend"),this)}},{key:"initialize",value:function(){var t=this.collection;this.listenTo(t,"reset",this.addAll),this.listenTo(t,"sync:ajax.start",this.loadStart),this.listenTo(t,"sync:ajax.end",this.loadSuccess),this.listenTo(t,"sync:error",this.loadError),this.listenTo(t,"add",this.addItem),this.$pull=this.$el.find(".pull-to-refresh-content"),this.$empty=this.$el.find(".empty-page");var e=t.status||!1;e&&"pending"===e&&this.loadStart()}},{key:"addAll",value:function(){}},{key:"loadStart",value:function(){this.$pull.addClass("refreshing"),this.$empty.hide()}},{key:"loadSuccess",value:function(){this.$pull.removeClass("refreshing"),this.addAll()}},{key:"loadError",value:function(){}},{key:"addItem",value:function(){}},{key:"render",value:function(){return this.addAll(),this}},{key:"events",get:function(){return{"refresh .pull-to-refresh-content":"refreshStart"}}}]),e}(Backbone.View);e.PullDown=s},87:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}var r=n(88),o=i(r);t.exports=function(t){var e=new o["default"]({el:t});return e.render(),e}},88:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function m(t,e,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,e);if(void 0===i){var r=Object.getPrototypeOf(t);return null===r?void 0:m(r,e,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},a=n(89),c=i(a),f=n(2),h=n(20),p=i(h),d=n(43),y=n(69),v=function(t){function e(){return r(this,e),o(this,Object.getPrototypeOf(e).apply(this,arguments))}return l(e,t),u(e,[{key:"className",get:function(){return"b-list__lst"}},{key:"Item",get:function(){var t=function(t){function e(){return r(this,e),o(this,Object.getPrototypeOf(e).apply(this,arguments))}return l(e,t),u(e,[{key:"className",get:function(){return"b-list__item"}},{key:"template",get:function(){return _.template(c["default"])}}]),e}(s(Object.getPrototypeOf(e.prototype),"Item",this));return t}}]),e}(d.SimpleLink),b=function(t){function e(){return r(this,e),o(this,Object.getPrototypeOf(e).apply(this,arguments))}return l(e,t),u(e,[{key:"initialize",value:function(){s(Object.getPrototypeOf(e.prototype),"initialize",this).call(this),this.$list=this.$el.find(".b-list"),this.$el.find(".toolbar-poll").addClass("is-active")}},{key:"addAll",value:function(){var t=this.collection;if(!t.length)return"pending"!==t.status&&this.$empty.show(),(0,f.logger)("пустая коллекция",t.url),this;var e=new v({collection:t,href:function(t){return"polls/detail.html?id="+t.get("id")}});this.$empty.hide(),this.$list.html(e.render().$el)}},{key:"addItem",value:function(t){this.collection.set(t,{remove:!1})}},{key:"collection",get:function(){return p["default"]}}]),e}(y.PullDown);e["default"]=b},89:function(t,e){t.exports='<a class="b-list__act item-link" href="<%= href %>"><div class="b-list__img"><div class="b-list__circle"><svg class="b-list__icon b-list__icon_vote"><use xlink:href="#icon_<%= voted ? "voted" : "vote" %>"></use></svg></div></div><div class="b-list__h"><div class="b-list__body">Опрос <span class="b-list__b"><%= name %></span></div></div></a>'}});